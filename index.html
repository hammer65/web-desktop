<html>
  <head>
    <title>Web Desktop</title>
    <link rel="stylesheet" href="css/main.css" />
    <script>
      const CONFIG = require('./app-config');
      const Browser = require('./script/browser');
      const startServer = require('./script/server');
      const myDir = nw.global.__dirname;
      startServer(CONFIG.port, `${myDir}/${CONFIG.root}`);
    </script>
  </head>
  <body>
    <div class="application">
      <div class="control-bar">
        <button class="-back-" id="back-btn"></button>
        <button class="-reload-" id="reload-btn"></button>
        <button class="-forward-" id="forward-btn"></button>
      </div>
      <webview src="main.html" id="app-view" partition="trusted" />
    </div>
    <script>
      const appView = document.getElementById('app-view');
      const browser = new Browser(appView);
      browser.backButton = document.getElementById('back-btn');
      browser.reloadButton = document.getElementById('reload-btn');
      browser.forwardButton = document.getElementById('forward-btn');
      browser.init();
    </script>
    <script src="script/menu.js"></script>
  </body>
</html>
